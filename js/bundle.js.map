{"version":3,"sources":["../src/framework.js","../src/input.js","../src/state-machine.js","../src/test-game.js","../src/time.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["import * as Input from './input';\nimport * as Time from './time';\nimport * as StateMachine from './state-machine';\nimport Victor from 'Victor';\n\nexport {\n    Input,\n    Time,\n    StateMachine,\n    Victor\n};\n\nlet _canvas;\nlet _context;\nlet _spriteMap = new Map();\nlet _loop;\n\n/**\n * Loads image into map, multiple calls with the same URL will only download the image once\n * \n * @export\n * @param {string} url\n * @returns {Image} Returns the loaded Image\n */\nexport function loadImage(url) {\n    if (!_spriteMap.has(url)) {\n        //todo improve\n        let img = new Image();\n        img.src = url;\n\n        _spriteMap.set(url, img);\n    }\n\n    return _spriteMap.get(url);\n}\n\n/**\n * Initialize the game framework, creating a loop and running StateMachine.() repeatably\n * \n * @export\n * @param {HTMLCanvasElement} canvas\n */\nexport function init(canvas) {\n    _canvas = canvas;\n    _context = canvas.getContext(\"2d\");\n\n    run();\n}\n\n/**\n * Internal command which manages the game loop\n */\nfunction run() {\n    Time.update();\n    _context.clearRect(0, 0, _canvas.width, _canvas.height);\n    StateMachine.get().update();\n    StateMachine.get().draw();\n\n    //draw something\n    requestAnimationFrame(run);\n    Input.update();\n}\n\n\n/**\n * All drawable entities derivce from this class\n * \n * @export\n * @class GameObject\n */\nexport class GameObject {\n    /**\n     * Creates an instance of GameObject.\n     * \n     * \n     * \n     * @memberOf GameObject\n     */\n    constructor() {\n    }\n\n    /**\n     * \n     * \n     * \n     * @memberOf GameObject\n     */\n    update() {\n\n    }\n\n    /**\n     * \n     * \n     * \n     * @memberOf GameObject\n     */\n    draw() {\n    }\n}\n\n/**\n * Creates drawable game object, with the ability to animate\n * \n * @export\n * @class Sprite\n */\nexport class Sprite {\n    /**\n     * Creates an instance of Sprite.\n     * \n     * @param {CanvasRenderingContext2D} context\n     * @param {string} url\n     * @param {Victor} pos\n     * @param {Array} [cords=[]]\n     * @param {number} [fps=24]\n     * \n     * @memberOf Sprite\n     */\n    constructor(context, url, pos, cords = [], fps = 24) {\n        this.context = context;\n        this.image = loadImage(url);\n        this.pos = pos;\n        this.cords = cords;\n        this.allowedFrameTime = 1.0 / fps;\n        this.frame = 0;\n        this.frameTime = 0.0;\n        this.animations = {\n            TestAnimation: {\n                name: \"testing\"\n            }\n        };\n        this.animation = null;\n    }\n\n    //add animation frame\n    /**\n     * Adds animation coords at runtime, you probably want to load from a json object instead\n     * \n     * @param {Object} animation\n     * @param {Victor} sourceVec\n     * @param {Victor} dimensionVec\n     * \n     * @memberOf Sprite\n     */\n    addFrame(animation, sourceVec, dimensionVec) {\n        if (this.animations[animation] === undefined) {\n            this.animations[animation] = [];\n        }\n\n        this.animations[animation].push({\n            source: sourceVec,\n            dimensions: dimensionVec\n        });\n    }\n\n    /**\n     * Sets the animation to display\n     * \n     * @param {string} animation\n     * \n     * @memberOf Sprite\n     */\n    setAnimation(animation) {\n        this.animation = this.animations[animation];\n    }\n\n\n    /**\n     * Draws sprite to screen based on animation frame etc.\n     * \n     * \n     * @memberOf Sprite\n     */\n    draw() {\n        //draws image to context\n        this.context.drawImage(this.image,\n            this.animation[this.frame].source.x, //source X\n            this.animation[this.frame].source.y, //source Y\n            this.animation[this.frame].dimensions.x, //source width\n            this.animation[this.frame].dimensions.y, //source height\n            this.pos.x, //destination X\n            this.pos.y, //destination Y\n            this.animation[this.frame].dimensions.x, //destination width\n            this.animation[this.frame].dimensions.y); //destination height\n\n        this.frameTime += Time.dt();\n\n        //handle animation\n        if (this.frameTime > this.allowedFrameTime) {\n            this.frameTime = 0.0;\n            this.frame++;\n            this.frame > this.animation.length - 1 ? this.frame = 0 : null;\n        }\n    }\n}","export const Keys = {\n    backspace: 8,\n    TAB: 9,\n    ENTER: 13,\n    SHIFT: 16,\n    CTRL: 17,\n    ALT: 18,\n    PAUSE_BREAK: 19,\n    CAPS_LOCK: 20,\n    ESCAPE: 27,\n    PAGE_UP: 33,\n    PAGE_DOWN: 34,\n    END: 35,\n    HOME: 36,\n    LEFT_ARROW: 37,\n    UP_ARROW: 38,\n    RIGHT_ARROW: 39,\n    DOWN_ARROW: 40,\n    INSERT: 45,\n    DELETE: 46,\n    ZERO: 48,\n    ONE: 49,\n    TWO: 50,\n    THREE: 51,\n    FOUR: 52,\n    FIVE: 53,\n    SIX: 54,\n    SEVEN: 55,\n    EIGHT: 56,\n    NINE: 57,\n    A: 65,\n    B: 66,\n    C: 67,\n    D: 68,\n    E: 69,\n    F: 70,\n    G: 71,\n    H: 72,\n    I: 73,\n    J: 74,\n    K: 75,\n    L: 76,\n    M: 77,\n    N: 78,\n    O: 79,\n    P: 80,\n    Q: 81,\n    R: 82,\n    S: 83,\n    T: 84,\n    U: 85,\n    V: 86,\n    W: 87,\n    X: 88,\n    Y: 89,\n    Z: 90,\n    LEFT_WINDOW_KEY: 91,\n    RIGHT_WINDOW_KEY: 92,\n    SELECT_KEY: 93,\n    NUMPAD_0: 96,\n    NUMPAD_1: 97,\n    NUMPAD_2: 98,\n    NUMPAD_3: 99,\n    NUMPAD_4: 100,\n    NUMPAD_5: 101,\n    NUMPAD_6: 102,\n    NUMPAD_7: 103,\n    NUMPAD_8: 104,\n    NUMPAD_9: 105,\n    MULTIPLY: 106,\n    ADD: 107,\n    SUBTRACT: 109,\n    DECIMAL_POINT: 110,\n    DIVIDE: 111,\n    F1: 112,\n    F2: 113,\n    F3: 114,\n    F4: 115,\n    F5: 116,\n    F6: 117,\n    F7: 118,\n    F8: 119,\n    F9: 120,\n    F10: 121,\n    F11: 122,\n    F12: 123,\n    NUM_LOCK: 144,\n    SCROLL_LOCK: 145,\n    SEMI_COLON: 186,\n    EQUAL_SIGN: 187,\n    COMMA: 188,\n    DASH: 189,\n    PERIOD: 190,\n    FORWARD_SLASH: 191,\n    GRAVE_ACCENT: 192,\n    OPEN_BRACKET: 219,\n    BACK_SLASH: 220,\n    CLOSE_BRAKET: 221,\n    SINGLE_QUOTE: 222\n}\n\nlet keysDown = new Array(256); \nlet keysPressed = new Array(256); \nlet keysUp = new Array(256); \n\nfor(let i = 0; i < 256; i++){\n    keysDown[i] = false;\n    keysPressed[i] = false;\n    keysUp[i] = false;\n}\n\nexport function update(){\n    for(let i = 0; i < 256; i++){\n        keysUp[i] = false;\n        keysDown[i] = false;\n    }\n}\n\nexport function keyDown(keyCode){\n    return keysDown[keyCode];\n}\nexport function keyPressed(keyCode){\n    return keysPressed[keyCode];\n}\nexport function keyUp(keyCode){\n    return keysUp[keyCode];\n}\n\ndocument.addEventListener(\"keydown\", (e) => {\n    keysDown[e.keyCode] = true;\n    keysPressed[e.keyCode] = true;\n});\n\ndocument.addEventListener(\"keyup\", (e) => {\n    keysPressed[e.keyCode] = true;\n    keysUp[e.keyCode] = true;\n});\n\n//get mouse pos , do when renderer completed TODO\n","let _states = [];\n\nexport function get(){\n    return _states[_states.length - 1];\n}\n\nexport function push(scene){\n    _states.push(scene);\n}\n\nexport function pop(){\n    _states.pop();\n}\n\nexport class Scene{\n    constructor(){\n        this.init();\n    }\n\n    init(){\n\n    }\n\n    update(){\n\n    }\n\n    draw(){\n\n    }\n}","import * as framework from './framework';\nimport * as stateMachine from './state-machine';\nimport Victor from 'Victor';\n\nclass GameScene extends stateMachine.Scene{\n    init(){\n        framework.loadImage(\"images/spritesheet-demo.png\");\n        this.player = new framework.Sprite(document.getElementById(\"canvas\").getContext('2d'), \"images/spritesheet-demo.png\", new Victor(0,0), [], 12);\n        this.player.addFrame(\"run\", new Victor(0, 89), new Victor(34, 44));\n        this.player.addFrame(\"run\", new Victor(32, 89), new Victor(36, 44));\n        this.player.addFrame(\"run\", new Victor(71, 89), new Victor(49, 44));\n        this.player.addFrame(\"run\", new Victor(124, 89), new Victor(38, 44));\n        this.player.addFrame(\"run\", new Victor(161, 89), new Victor(29, 44));\n        this.player.addFrame(\"run\", new Victor(194, 89), new Victor(27, 44));\n        this.player.addFrame(\"run\", new Victor(225, 89), new Victor(29, 44));\n        this.player.addFrame(\"run\", new Victor(258, 89), new Victor(39, 44));\n        this.player.addFrame(\"run\", new Victor(301, 89), new Victor(33, 44));\n        this.player.addFrame(\"run\", new Victor(336, 89), new Victor(27, 44));\n        this.player.setAnimation(\"run\");\n    }\n\n    update(){\n        let v = new Victor(0, 0);\n        console.log(framework.Input.keyDown(framework.Input.Keys.A));\n        \n        //v.addX()\n        //this.player.pos.\n    }\n\n    draw(){\n        this.player.draw();\n    }\n}\n\nlet gameScene = new GameScene();\nstateMachine.push(gameScene);\nframework.init(document.getElementById(\"canvas\"));\n","let _prevTime = new Date().getTime() / 1000.0;;\nlet _time = new Date().getTime() / 1000.0;\nlet _dtVal = 0;\n\nexport function update(){\n    _prevTime = _time;\n    _time = new Date().getTime() / 1000.0;\n    _dtVal = _time - _prevTime;\n}\n\n//returns time since start of last frame\nexport function dt() {\n    return _dtVal;\n}"]}